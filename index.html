<!DOCTYPE html>
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
<div style="width:800px; margin:0 auto; background-color:white;margin-bottom: 50px;">
  <div id="container" style="border: 2px solid grey; height: 500px; width: 800px; position: relative;">
    <div><h1 class="monsieur-cursive" style="text-align: center; color: #9e0606;">Will you be my Valentine?</h1></div>
    <button class="click" style="top: 250px; left: 325px;">Yes</button>
    <button id="dodger" class="click" style="top: 250px; left: 425px;">No</button>
  </div>
</div>

<script>
const speed = 12;
let escapeVector = {
	x: 0,
	y: 0
};

let dodgeLoop;
const dodgerElement = document.getElementById("dodger");

dodgerElement.addEventListener("mouseenter", () => {startDodging();});
dodgerElement.addEventListener("mouseleave", () => {stopDodging();});

function newVector() {
	let newX = 0;
	let newY = 0;
	while(newX == 0 && newY == 0) {
		newX = Math.round((Math.random() - 0.5) * 2);
		newY = Math.round((Math.random() - 0.5) * 2);
	}
	console.log("" + newX + ", " + newY);
	escapeVector.x = newX;
	escapeVector.y = newY;
}

function dodge() {
	const newTop = Math.round(parseInt(dodgerElement.style.top) + escapeVector.y * speed);
	const newLeft = Math.round(parseInt(dodgerElement.style.left) + escapeVector.x * speed);
	console.log("" + newTop + ", " + newLeft);
	dodgerElement.style.top = newTop + "px";
	dodgerElement.style.left = newLeft + "px";
}

function startDodging() {
	newVector();
	dodgeLoop = setInterval(dodge, 30);
}

function stopDodging() {
	clearInterval(dodgeLoop);
}
</script>
