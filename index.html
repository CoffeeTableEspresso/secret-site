<!DOCTYPE html>
<link rel="stylesheet" href="styles.css">
<div style="width:800px; margin:0 auto; background-color:white;margin-bottom: 50px;">
  <div id="container" style="border: 2px solid grey; height: 500px; width: 800px; position: relative;">
    <div><h1>Will you be my Valentine?</h1></div>
    <div style="border: 1px solid red; border-radius: 15px; height: 50px; width: 50px; position: absolute; top: 250px; left: 325px;">
      <div><button>Yes</button></div>
    </div>
    <div id="dodger" style="border: 1px solid red; border-radius: 15px; height: 50px; width: 50px; position: absolute; top: 250px; left: 425px;">
      <div><button>No</button></div>
    </div>
  </div>
</div>

<script>
const speed = 9;
let escapeVector = {
	x: 0,
	y: 0
};

let dodgeLoop;
const dodgerElement = document.getElementById("dodger");

dodgerElement.addEventListener("mouseenter", () => {startDodging();});
dodgerElement.addEventListener("mouseleave", () => {stopDodging();});

function newVector() {
	let newX = 0;
	let newY = 0;
	while(newX == 0 || newY == 0) {
		newX = Math.round((Math.random() - 0.5) * 2);
		newY = Math.round((Math.random() - 0.5) * 2);
	}
	escapeVector.x = newX;
	escapeVector.y = newY;
}

function dodge() {
	const newTop = Math.round(parseInt(dodgerElement.style.top) + escapeVector.y * speed);
	const newLeft = Math.round(parseInt(dodgerElement.style.left) + escapeVector.x * speed);
	console.log(newTop, newLeft);
	dodgerElement.style.top = newTop + "px";
	dodgerElement.style.left = newLeft + "px";
}

function startDodging() {
	newVector();
	dodgeLoop = setInterval(dodge, 50);
}

function stopDodging() {
	clearInterval(dodgeLoop);
}
</script>
