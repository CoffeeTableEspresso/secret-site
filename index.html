<!DOCTYPE html>
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
<style>
.monsieur-la-doulaise-regular {
  font-family: "Monsieur La Doulaise", cursive;
  font-weight: 400;
  font-style: normal;
}

h1 {
  text-align: center;
  color: #9e0606;
  font-size: 4em;
}

body {
  background-image: url('roses.jpg');
}

</style>
<body>
<div style="width:800px; margin:0 auto; background-color:white;margin-bottom: 50px;">
	<p id="answer"> </p>
  <div id="container" style="border: 2px solid #9e0606; height: 500px; width: 800px; position: relative;">
    <div><h1 class="monsieur-la-doulaise-regular">Will you be my Valentine?</h1></div>
    <button id="yes_button" class="click" style="top: 250px; left: 325px;" onclick="click_yes()">Yes</button>
    <button id="no_button" class="click" style="top: 250px; left: 425px;">No</button>
  </div>
</div>
</body>

<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
<script>
const speed = 12;
let escapeVector = {
	x: 0,
	y: 0
};

let dodgeLoop;
const dodgerElement = document.getElementById("no_button");

dodgerElement.addEventListener("mouseenter", () => {startDodging();});
dodgerElement.addEventListener("mouseleave", () => {stopDodging();});

function newVector() {
	let newX = 0;
	let newY = 0;
	while(newX == 0 && newY == 0) {
		newX = Math.round((Math.random() - 0.5) * 2);
		newY = Math.round((Math.random() - 0.5) * 2);
	}
	console.log("" + newX + ", " + newY);
	escapeVector.x = newX;
	escapeVector.y = newY;
}

function dodge() {
	const newTop = Math.round(parseInt(dodgerElement.style.top) + escapeVector.y * speed);
	const newLeft = Math.round(parseInt(dodgerElement.style.left) + escapeVector.x * speed);
	console.log("" + newTop + ", " + newLeft);
	dodgerElement.style.top = newTop + "px";
	dodgerElement.style.left = newLeft + "px";
}

function startDodging() {
	newVector();
	dodgeLoop = setInterval(dodge, 30);
}

function stopDodging() {
	clearInterval(dodgeLoop);
}

const defaults = {
  spread: 360,
  ticks: 100,
  gravity: 0,
  decay: 0.94,
  startVelocity: 30,
  shapes: ["heart"],
  colors: ["FFC0CB", "FF69B4", "FF1493", "C71585"],
};

function click_yes() {
	confetti({
	  ...defaults,
	  particleCount: 50,
	  scalar: 2,
	});

	confetti({
	  ...defaults,
	  particleCount: 25,
	  scalar: 3,
	});

	confetti({
	  ...defaults,
	  particleCount: 10,
	  scalar: 4,
});
}

</script>
